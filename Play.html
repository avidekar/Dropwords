<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="Tizen basic template generated by Tizen Web IDE"/>

    <title>DROPWORDS</title>

    <link rel="stylesheet" type="text/css" href="css/style.css"/>
    <script src="js/main.js"></script>
    <script type="text/javascript" src="js/mydictionary.js"></script>
    <script type="text/javascript">
	    window.addEventListener('tizenhwkey', function(e) {
	        if (e.keyName == "back") {
	       		window.location.href="index.html";
	        }
	    });
    </script>
    </head>
    <body class="background" onload="InitialAlp();">
	<div class="test" id="header" style=" height: 120px">
		<div id="blank" style="height: 40px"></div>
		<div id="title" align="center" style="height: 30px; line-height: 30px">
		<table class="test" id="titleTable" width="300px" style="color: white; border: 1px solid white">
				<tr>
					<td align="center" 
						style="color: white; border: 1px solid white">D</td>
					<td align="center"
						style="color: white; border: 1px solid white">R</td>
					<td align="center"
						style="color: white; border: 1px solid white">O</td>
					<td align="center"
						style="color: white; border: 1px solid white">P</td>
					<td align="center"
						style="color: white; border: 1px solid white">W</td>
					<td align="center"
						style="color: white; border: 1px solid white">O</td>
					<td align="center"
						style="color: white; border: 1px solid white">R</td>
					<td align="center"
						style="color: white; border: 1px solid white">D</td>
					<td align="center"
						style="color: white; border: 1px solid white">S</td>
			</table>
		</div><br>
		<table align="center">
			<tr>
				<td align="right"
					style="width: 80px; height: 30px; color: white; font-weight: bold">LEVEL
					-</td>
				<td id="gameLevelId" style="width: 8px; height: 30px; color: white"><input
					type="text" id="gameLevelId" align="left"
					style="width: 8px; height: 30px; border: 0px solid; background-color: transparent; font-weight: bold"></input></td>
			</tr>
		</table>
	</div>
	<div id="blank" style="height: 10px;"></div>
	<table align="left">
		<tr>
			<td align="left" class="abcd"
				style="width: 125px; height: 30px; font-weight: bold">TARGET
				SCORE :</td>
			<td id="targetScore" align="left" class="abcd"
				style="width: 8px; height: 30px;"><input class="abcd" 
				type="text" align="left"
				style="width: 8px; height: 30px; float: right; border: 0px solid; background-color: transparent; font-weight: bold;"
				disabled></input></td>
				<td style="width:20%">
				<td>
				<td style="color: darkblue"><input type="text" id="words" class="abcd"
				style="width: 80px; height: 30px; float: right; border: 0px solid; margin-right:10px; background-color: transparent; font-weight: bold;"
				disabled></input></td>
		</tr>
	</table>
	<table>
		<tr>
					<td align="right" class="abcd" 
				style="width: 80px; height: 30px; font-weight: bold">SCORE
				:</td>
			<td><input type="text" class="abcd" id="score" align="right"
				style="width: 80px; height: 30px; float: right; border: 0px solid; background-color: transparent; font-weight: bold;"
				disabled></input></td>
			<td>
			<td align="right" class="abcd"
				style="width: 80px; height: 30px; font-weight: bold">TIME
				:</td>
			<td id="timer" class="abcd"><input type="text" class="abcd"
				align="right"
				style="width: 80px; height: 30px; float: right; border: 0px solid; background-color: transparent; font-weight: bold;"
				disabled></input></td>
		</tr>
	</table>

	<table class="test" border="3" id="gameTable" align="center" style="width:270px;height:240px;color:black">
<tr><td align="center"><input type="button" style="width:35px;height:30px" id="button01" onclick="CheckWord(this.id)"></input></td><td align="center"><input type="button" style="width:35px;height:30px" id="button02" onclick="CheckWord(this.id)"></td><td align="center"><input type="button" style="width:35px;height:30px" id="button03" onclick="CheckWord(this.id)"></td><td align="center"><input type="button" style="width:35px;height:30px" id="button04" onclick="CheckWord(this.id)"></td><td align="center"><input type="button" style="width:35px;height:30px" id="button05" onclick="CheckWord(this.id)"></td></tr>
<tr><td align="center"><input type="button" style="width:35px;height:30px" id="button11" onclick="CheckWord(this.id)"></input></td><td align="center"><input type="button" style="width:35px;height:30px" id="button12" onclick="CheckWord(this.id)"></td><td align="center"><input type="button" style="width:35px;height:30px" id="button13" onclick="CheckWord(this.id)"></td><td align="center"><input type="button" style="width:35px;height:30px" id="button14" onclick="CheckWord(this.id)"></td><td align="center"><input type="button" style="width:35px;height:30px" id="button15" onclick="CheckWord(this.id)"></td></tr>
<tr><td align="center"><input type="button" style="width:35px;height:30px" id="button21" onclick="CheckWord(this.id)"></input></td><td align="center"><input type="button" style="width:35px;height:30px" id="button22" onclick="CheckWord(this.id)"></td><td align="center"><input type="button" style="width:35px;height:30px" id="button23" onclick="CheckWord(this.id)"></td><td align="center"><input type="button" style="width:35px;height:30px" id="button24" onclick="CheckWord(this.id)"></td><td align="center"><input type="button" style="width:35px;height:30px" id="button25" onclick="CheckWord(this.id)"></td></tr>
<tr><td align="center"><input type="button" style="width:35px;height:30px" id="button31" onclick="CheckWord(this.id)"></input></td><td align="center"><input type="button" style="width:35px;height:30px" id="button32" onclick="CheckWord(this.id)"></td><td align="center"><input type="button" style="width:35px;height:30px" id="button33" onclick="CheckWord(this.id)"></td><td align="center"><input type="button" style="width:35px;height:30px" id="button34" onclick="CheckWord(this.id)"></td><td align="center"><input type="button" style="width:35px;height:30px" id="button35" onclick="CheckWord(this.id)"></td></tr>
<tr><td align="center"><input type="button" style="width:35px;height:30px" id="button41" onclick="CheckWord(this.id)"></input></td><td align="center"><input type="button" style="width:35px;height:30px" id="button42" onclick="CheckWord(this.id)"></td><td align="center"><input type="button" style="width:35px;height:30px" id="button43" onclick="CheckWord(this.id)"></td><td align="center"><input type="button" style="width:35px;height:30px" id="button44" onclick="CheckWord(this.id)"></td><td align="center"><input type="button" style="width:35px;height:30px" id="button45" onclick="CheckWord(this.id)"></td></tr>
</table>
 <div id="blank" style="height:25px;"></div>
 <div id="button" align="center" style="height:30px;">
<input class="test" type="button" id="submit" align="left" onclick="Reshuffle()" style="width:125px;height:30px;color:white" value="RESHUFFLE"></input>
<input class="test" type="button" id="submit" align="center" onclick="ClearBackground()" style="width:125px;height:30px;color:white" value="CLEAR"></input>

</div>
  <audio id="correct" src="sound\correct.wav" preload="auto"></audio>
  <audio id="error" src="sound\error.wav" preload="auto"></audio>
  <audio id="new_page" src="sound\new_page.wav" preload="auto"></audio>
  <div id="light" class="white_content"><div id="display"></div><br><br><input type="button" class="test" style="margin-left:50px;color:white" value="CONTINUE" href = "javascript:void(0)" onclick = "ClearPopUp()"></div>
    <div id="fade" class="black_overlay"></div>
 <script>
 window.onload = function(){
	    InitialAlp();
		if(!localStorage.getItem('my_background_color'))
		{
		bgColor = "blue";
		bgImage = "images/light_blue.jpg"
		localStorage.setItem("my_background_color",bgColor);
		localStorage.setItem("my_background_image",bgImage);
		}
		if(!localStorage.getItem('soundEnable'))
		{
		var soundTest = "ON";
		localStorage.setItem("soundEnable",soundTest);
		}
		bgColor = localStorage.getItem("my_background_color");
		bgImage = localStorage.getItem("my_background_image");
		var y = document.getElementsByClassName("background");
		var j;
		for( j=0;j<y.length; j++)
		{
		y[j].style.backgroundImage = "url(" + (bgImage) + ")";
		}
		x = document.getElementsByClassName("test");
		var i;
		for ( i=0; i < x.length; i++)
		{
		x[i].style.backgroundColor = bgColor;
		}
		var z = document.getElementsByClassName("abcd");
		var k;
		for (k=0; k<z.length; k++)
		{
			z[k].style.color = bgColor;
		}
		}
 var mainString = "";
 var score = 0;
 var time = 60;
 var setTime = 60;
 var counter = setInterval(timer, 1000);
 var buttonClick = new Array();
 var arrayLength;
 var previousArrayLength;
 var arrayElement;
 var previousArrayElement;
 var currentRowId;
 var currentColId;
 var previousRowId;
 var previousColId;
 var length;
 var lastElement;
 var levelId = 0;
 var extraScore = 0;
 var baseScore = 25;
 var message;

 var correct = document.getElementById("correct");
 var error = document.getElementById("error");
 var new_page = document.getElementById("new_page");

 if (localStorage.getItem('level')) {
	    levelId = parseInt(localStorage.getItem('level'));
	    baseScore = parseInt(localStorage.getItem('baseScore'));
	    extraScore = parseInt(localStorage.getItem('extraScore'));
	    time = parseInt(localStorage.getItem('time'));
	    setTime = parseInt(localStorage.getItem('setTime'));
	    
	}else{
		localStorage.setItem('level', 1);
		localStorage.setItem('baseScore', baseScore);
		localStorage.setItem('extraScore', extraScore);
		localStorage.setItem('time', time);
		localStorage.setItem('setTime', setTime);
		levelId = localStorage.getItem('level');
	}

 var targetScore = baseScore + extraScore;
 
 document.getElementById("gameLevelId").innerHTML = levelId;
 document.getElementById("score").innerHTML = score;
 document.getElementById("targetScore").innerHTML = targetScore;
 
 function timer()
 {  
	time = time - 1;
	if (time == 0)
		{
		if(score >= baseScore + extraScore)
			{
			message = "YES";
			DisplayPopUp(message);
			setTime = setTime + 30;
			time = setTime;
			score = 0;
			document.getElementById("score").value = score;
			extraScore = extraScore + 15;
			 var targetScore = baseScore + extraScore;
			++levelId;
			document.getElementById("gameLevelId").innerHTML = levelId;
			localStorage.setItem('level', levelId);
			localStorage.setItem('baseScore', baseScore);
			localStorage.setItem('extraScore', extraScore);
			localStorage.setItem('time', time);
			localStorage.setItem('setTime', setTime);
			document.getElementById("targetScore").innerHTML = targetScore;
			document.getElementById("words").innerHTML = "";
			if(levelId == 8)
				{
				alert("CONGRATS! You are now a Master!");
				window.location.href="index.html";
				}
			}
		else
			{
			message = "NO";
			DisplayPopUp(message);
			}
		}
	document.getElementById("timer").innerHTML = time;
 }

 </script>
</body>
</html>